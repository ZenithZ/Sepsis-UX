/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, ElementRef, Renderer, IterableDiffers, Optional, NgZone, KeyValueDiffers, ChangeDetectorRef } from "@angular/core";
import { IgControlBase } from "../igcontrolbase/igcontrolbase";
import { NgModel } from "@angular/forms";
var IgHtmlEditorComponent = /** @class */ (function (_super) {
    tslib_1.__extends(IgHtmlEditorComponent, _super);
    function IgHtmlEditorComponent(el, renderer, differs, model, zone, kvalDiffers, cdr) {
        var _this = _super.call(this, el, renderer, differs, kvalDiffers, cdr) || this;
        _this.model = model;
        _this.zone = zone;
        _this.onChange = (/**
         * @param {?} _
         * @return {?}
         */
        function (_) {
        });
        _this.onTouched = (/**
         * @return {?}
         */
        function () {
        });
        if (model) {
            model.valueAccessor = _this;
            _this._zone = zone;
            _this._model = model;
        }
        return _this;
    }
    /**
     * @return {?}
     */
    IgHtmlEditorComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        /** @type {?} */
        var that = this;
        if (this._model) {
            /** @type {?} */
            var iframe = jQuery(this._el).find("iframe")[0].contentWindow.document;
            jQuery(iframe).find("body[contenteditable=true]").on("keyup", (/**
             * @param {?} evt
             * @param {?} ui
             * @return {?}
             */
            function (evt, ui) {
                that._model.viewToModelUpdate(jQuery(evt.target).html());
                that._zone.run((/**
                 * @return {?}
                 */
                function () {
                    that._model.viewToModelUpdate(jQuery(evt.target).html());
                }));
            }));
        }
    };
    /**
     * @param {?} value
     * @return {?}
     */
    IgHtmlEditorComponent.prototype.writeValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (!!jQuery(this._el).data(this._widgetName) && value !== null && value !== jQuery(this._el)[this._widgetName]("getContent", "html")) {
            jQuery(this._el)[this._widgetName]("setContent", value, "html");
        }
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    IgHtmlEditorComponent.prototype.registerOnChange = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onChange = fn;
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    IgHtmlEditorComponent.prototype.registerOnTouched = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onTouched = fn;
    };
    /**
     * Returns the element on which the widget was instantiated
     */
    /* istanbul ignore next */
    /**
     * Returns the element on which the widget was instantiated
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.widget = /**
     * Returns the element on which the widget was instantiated
     * @return {?}
     */
    /* istanbul ignore next */
    function () { return; };
    ;
    /**
     * Resizes the height of the workspace
     */
    /* istanbul ignore next */
    /**
     * Resizes the height of the workspace
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.resizeWorkspace = /**
     * Resizes the height of the workspace
     * @return {?}
     */
    /* istanbul ignore next */
    function () { return; };
    ;
    /**
     * Gets the content of the html editor.
     *
     * @param format Returns the content as html or plain text. Values can be "text" or "html".
     */
    /* istanbul ignore next */
    /**
     * Gets the content of the html editor.
     *
     * @param {?} format Returns the content as html or plain text. Values can be "text" or "html".
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.getContent = /**
     * Gets the content of the html editor.
     *
     * @param {?} format Returns the content as html or plain text. Values can be "text" or "html".
     * @return {?}
     */
    /* istanbul ignore next */
    function (format) { return; };
    ;
    /**
     * Sets the content of the html editor.
     *
     * @param content The content which will be set.
     * @param format The content type: "text" or "html".
     */
    /* istanbul ignore next */
    /**
     * Sets the content of the html editor.
     *
     * @param {?} content The content which will be set.
     * @param {?} format The content type: "text" or "html".
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.setContent = /**
     * Sets the content of the html editor.
     *
     * @param {?} content The content which will be set.
     * @param {?} format The content type: "text" or "html".
     * @return {?}
     */
    /* istanbul ignore next */
    function (content, format) { return; };
    ;
    /**
     * Destroys the widget.
     */
    /* istanbul ignore next */
    /**
     * Destroys the widget.
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.destroy = /**
     * Destroys the widget.
     * @return {?}
     */
    /* istanbul ignore next */
    function () { return; };
    ;
    /**
     * Executes htmleditor commands.
     *
     * @param actionName The command name.
     * @param args Additional parameter for the command.
     */
    /* istanbul ignore next */
    /**
     * Executes htmleditor commands.
     *
     * @param {?} actionName The command name.
     * @param {?=} args Additional parameter for the command.
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.executeAction = /**
     * Executes htmleditor commands.
     *
     * @param {?} actionName The command name.
     * @param {?=} args Additional parameter for the command.
     * @return {?}
     */
    /* istanbul ignore next */
    function (actionName, args) { return; };
    ;
    /**
     * Returns true/false if the editor contents were modified or not.
     */
    /* istanbul ignore next */
    /**
     * Returns true/false if the editor contents were modified or not.
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.isDirty = /**
     * Returns true/false if the editor contents were modified or not.
     * @return {?}
     */
    /* istanbul ignore next */
    function () { return; };
    ;
    /**
     * Returns the window object associated with the Html Editor's content editable area
     */
    /* istanbul ignore next */
    /**
     * Returns the window object associated with the Html Editor's content editable area
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.contentWindow = /**
     * Returns the window object associated with the Html Editor's content editable area
     * @return {?}
     */
    /* istanbul ignore next */
    function () { return; };
    ;
    /**
     * Returns the document object associated with the Html Editor's content editable area
     */
    /* istanbul ignore next */
    /**
     * Returns the document object associated with the Html Editor's content editable area
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.contentDocument = /**
     * Returns the document object associated with the Html Editor's content editable area
     * @return {?}
     */
    /* istanbul ignore next */
    function () { return; };
    ;
    /**
     * Returns the content editable associated with this Html Editor
     */
    /* istanbul ignore next */
    /**
     * Returns the content editable associated with this Html Editor
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.contentEditable = /**
     * Returns the content editable associated with this Html Editor
     * @return {?}
     */
    /* istanbul ignore next */
    function () { return; };
    ;
    /**
     * Returns Selection object that represent the current selection in the content editable
     */
    /* istanbul ignore next */
    /**
     * Returns Selection object that represent the current selection in the content editable
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.selection = /**
     * Returns Selection object that represent the current selection in the content editable
     * @return {?}
     */
    /* istanbul ignore next */
    function () { return; };
    ;
    /**
     * Returns Range object that represent the current range in the content editable
     */
    /* istanbul ignore next */
    /**
     * Returns Range object that represent the current range in the content editable
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.range = /**
     * Returns Range object that represent the current range in the content editable
     * @return {?}
     */
    /* istanbul ignore next */
    function () { return; };
    ;
    /**
     * Inserts the provided content at the position of the caret.
     *
     * @param element Accepts html string, DOM element or a jQuery object.
     */
    /* istanbul ignore next */
    /**
     * Inserts the provided content at the position of the caret.
     *
     * @param {?} element Accepts html string, DOM element or a jQuery object.
     * @return {?}
     */
    /* istanbul ignore next */
    IgHtmlEditorComponent.prototype.insertAtCaret = /**
     * Inserts the provided content at the position of the caret.
     *
     * @param {?} element Accepts html string, DOM element or a jQuery object.
     * @return {?}
     */
    /* istanbul ignore next */
    function (element) { return; };
    ;
    IgHtmlEditorComponent.decorators = [
        { type: Component, args: [{
                    selector: "ig-html-editor",
                    template: "<ng-content></ng-content>",
                    inputs: ["widgetId", "options", "changeDetectionInterval", "disabled", "create", "showFormattingToolbar", "showTextToolbar", "showInsertObjectToolbar", "showCopyPasteToolbar", "width", "height", "toolbarSettings", "customToolbars", "inputName", "value"],
                    outputs: ["rendered", "rendering", "actionExecuting", "actionExecuted", "toolbarCollapsing", "toolbarCollapsed", "toolbarExpanding", "toolbarExpanded", "cut", "copy", "paste", "undo", "redo", "workspaceResized"]
                }] }
    ];
    /** @nocollapse */
    IgHtmlEditorComponent.ctorParameters = function () { return [
        { type: ElementRef },
        { type: Renderer },
        { type: IterableDiffers },
        { type: NgModel, decorators: [{ type: Optional }] },
        { type: NgZone },
        { type: KeyValueDiffers },
        { type: ChangeDetectorRef }
    ]; };
    return IgHtmlEditorComponent;
}(IgControlBase));
export { IgHtmlEditorComponent };
if (false) {
    /**
     * @type {?}
     * @protected
     */
    IgHtmlEditorComponent.prototype._model;
    /**
     * @type {?}
     * @protected
     */
    IgHtmlEditorComponent.prototype._zone;
    /** @type {?} */
    IgHtmlEditorComponent.prototype.onChange;
    /** @type {?} */
    IgHtmlEditorComponent.prototype.onTouched;
    /** @type {?} */
    IgHtmlEditorComponent.prototype.model;
    /**
     * @type {?}
     * @private
     */
    IgHtmlEditorComponent.prototype.zone;
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWdodG1sZWRpdG9yLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2lnbml0ZXVpLWFuZ3VsYXItd3JhcHBlcnMvIiwic291cmNlcyI6WyJsaWIvaWdodG1sZWRpdG9yL2lnaHRtbGVkaXRvci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3ZJLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUMvRCxPQUFPLEVBQXdCLE9BQU8sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBSS9EO0lBTTJDLGlEQUEyQjtJQUdsRSwrQkFBWSxFQUFjLEVBQUUsUUFBa0IsRUFBRSxPQUF3QixFQUFxQixLQUFjLEVBQVUsSUFBWSxFQUFFLFdBQTRCLEVBQUUsR0FBc0I7UUFBdkwsWUFDSSxrQkFBTSxFQUFFLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsR0FBRyxDQUFDLFNBTWpEO1FBUDRGLFdBQUssR0FBTCxLQUFLLENBQVM7UUFBVSxVQUFJLEdBQUosSUFBSSxDQUFRO1FBNEJqSSxjQUFROzs7O1FBQUcsVUFBQyxDQUFNO1FBQ2xCLENBQUMsRUFBQztRQUNGLGVBQVM7OztRQUFHO1FBQ1osQ0FBQyxFQUFDO1FBN0JFLElBQUksS0FBSyxFQUFFO1lBQ1AsS0FBSyxDQUFDLGFBQWEsR0FBRyxLQUFJLENBQUM7WUFDM0IsS0FBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7WUFDbEIsS0FBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7U0FDdkI7O0lBQ0wsQ0FBQzs7OztJQUNELHdDQUFROzs7SUFBUjtRQUNJLGlCQUFNLFFBQVEsV0FBRSxDQUFDOztZQUNiLElBQUksR0FBRyxJQUFJO1FBQ2Ys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O2dCQUFFLGVBQWU7Z0JBQUUsaUJBQWlCOztJQStJL0csNEJBQUM7Q0FBQSxBQXpJRCxDQU0yQyxhQUFhLEdBbUl2RDtTQW5JWSxxQkFBcUI7Ozs7OztJQUM5Qix1Q0FBc0I7Ozs7O0lBQ3RCLHNDQUFxQjs7SUE2QnJCLHlDQUNFOztJQUNGLDBDQUNFOztJQS9Cd0Usc0NBQWlDOzs7OztJQUFFLHFDQUFvQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgUmVuZGVyZXIsIEl0ZXJhYmxlRGlmZmVycywgT3B0aW9uYWwsIE5nWm9uZSwgS2V5VmFsdWVEaWZmZXJzLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBJZ0NvbnRyb2xCYXNlIH0gZnJvbSBcIi4uL2lnY29udHJvbGJhc2UvaWdjb250cm9sYmFzZVwiO1xuaW1wb3J0IHsgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE5nTW9kZWwgfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcblxuZGVjbGFyZSB2YXIgalF1ZXJ5OiBhbnk7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiBcImlnLWh0bWwtZWRpdG9yXCIsXG4gICAgdGVtcGxhdGU6IFwiPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlwiLFxuICAgIGlucHV0czogW1wid2lkZ2V0SWRcIiwgXCJvcHRpb25zXCIsIFwiY2hhbmdlRGV0ZWN0aW9uSW50ZXJ2YWxcIiwgXCJkaXNhYmxlZFwiLCBcImNyZWF0ZVwiLCBcInNob3dGb3JtYXR0aW5nVG9vbGJhclwiLCBcInNob3dUZXh0VG9vbGJhclwiLCBcInNob3dJbnNlcnRPYmplY3RUb29sYmFyXCIsIFwic2hvd0NvcHlQYXN0ZVRvb2xiYXJcIiwgXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcInRvb2xiYXJTZXR0aW5nc1wiLCBcImN1c3RvbVRvb2xiYXJzXCIsIFwiaW5wdXROYW1lXCIsIFwidmFsdWVcIl0sXG4gICAgb3V0cHV0czogW1wicmVuZGVyZWRcIiwgXCJyZW5kZXJpbmdcIiwgXCJhY3Rpb25FeGVjdXRpbmdcIiwgXCJhY3Rpb25FeGVjdXRlZFwiLCBcInRvb2xiYXJDb2xsYXBzaW5nXCIsIFwidG9vbGJhckNvbGxhcHNlZFwiLCBcInRvb2xiYXJFeHBhbmRpbmdcIiwgXCJ0b29sYmFyRXhwYW5kZWRcIiwgXCJjdXRcIiwgXCJjb3B5XCIsIFwicGFzdGVcIiwgXCJ1bmRvXCIsIFwicmVkb1wiLCBcIndvcmtzcGFjZVJlc2l6ZWRcIl1cbn0pXG5leHBvcnQgY2xhc3MgSWdIdG1sRWRpdG9yQ29tcG9uZW50IGV4dGVuZHMgSWdDb250cm9sQmFzZTxJZ0h0bWxFZGl0b3I+IGltcGxlbWVudHMgQ29udHJvbFZhbHVlQWNjZXNzb3Ige1xuICAgIHByb3RlY3RlZCBfbW9kZWw6IGFueTtcbiAgICBwcm90ZWN0ZWQgX3pvbmU6IGFueTtcbiAgICBjb25zdHJ1Y3RvcihlbDogRWxlbWVudFJlZiwgcmVuZGVyZXI6IFJlbmRlcmVyLCBkaWZmZXJzOiBJdGVyYWJsZURpZmZlcnMsIEBPcHRpb25hbCgpIHB1YmxpYyBtb2RlbDogTmdNb2RlbCwgcHJpdmF0ZSB6b25lOiBOZ1pvbmUsIGt2YWxEaWZmZXJzOiBLZXlWYWx1ZURpZmZlcnMsIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcbiAgICAgICAgc3VwZXIoZWwsIHJlbmRlcmVyLCBkaWZmZXJzLCBrdmFsRGlmZmVycywgY2RyKTtcbiAgICAgICAgaWYgKG1vZGVsKSB7XG4gICAgICAgICAgICBtb2RlbC52YWx1ZUFjY2Vzc29yID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuX3pvbmUgPSB6b25lO1xuICAgICAgICAgICAgdGhpcy5fbW9kZWwgPSBtb2RlbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBpZnJhbWUgPSBqUXVlcnkodGhpcy5fZWwpLmZpbmQoXCJpZnJhbWVcIilbMF0uY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgICAgICAgICAgIGpRdWVyeShpZnJhbWUpLmZpbmQoXCJib2R5W2NvbnRlbnRlZGl0YWJsZT10cnVlXVwiKS5vbihcImtleXVwXCIsIGZ1bmN0aW9uIChldnQsIHVpKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fbW9kZWwudmlld1RvTW9kZWxVcGRhdGUoalF1ZXJ5KGV2dC50YXJnZXQpLmh0bWwoKSk7XG4gICAgICAgICAgICAgICAgdGhhdC5fem9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9tb2RlbC52aWV3VG9Nb2RlbFVwZGF0ZShqUXVlcnkoZXZ0LnRhcmdldCkuaHRtbCgpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgd3JpdGVWYWx1ZSh2YWx1ZTogYW55KSB7XG4gICAgICAgIGlmICghIWpRdWVyeSh0aGlzLl9lbCkuZGF0YSh0aGlzLl93aWRnZXROYW1lKSAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0galF1ZXJ5KHRoaXMuX2VsKVt0aGlzLl93aWRnZXROYW1lXShcImdldENvbnRlbnRcIiwgXCJodG1sXCIpKSB7XG4gICAgICAgICAgICBqUXVlcnkodGhpcy5fZWwpW3RoaXMuX3dpZGdldE5hbWVdKFwic2V0Q29udGVudFwiLCB2YWx1ZSwgXCJodG1sXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DaGFuZ2UgPSAoXzogYW55KSA9PiB7XG4gICAgfTtcbiAgICBvblRvdWNoZWQgPSAoKSA9PiB7XG4gICAgfTtcblxuICAgIHJlZ2lzdGVyT25DaGFuZ2UoZm46IChfOiBhbnkpID0+IHt9KTogdm9pZCB7XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSBmbjtcbiAgICB9XG5cbiAgICByZWdpc3Rlck9uVG91Y2hlZChmbjogKCkgPT4ge30pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vblRvdWNoZWQgPSBmbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBlbGVtZW50IG9uIHdoaWNoIHRoZSB3aWRnZXQgd2FzIGluc3RhbnRpYXRlZFxuICAgICAqL1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcHVibGljIHdpZGdldCgpOiB2b2lkIHsgcmV0dXJuOyB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgaGVpZ2h0IG9mIHRoZSB3b3Jrc3BhY2VcbiAgICAgKi9cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHB1YmxpYyByZXNpemVXb3Jrc3BhY2UoKTogdm9pZCB7IHJldHVybjsgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGNvbnRlbnQgb2YgdGhlIGh0bWwgZWRpdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZvcm1hdCBSZXR1cm5zIHRoZSBjb250ZW50IGFzIGh0bWwgb3IgcGxhaW4gdGV4dC4gVmFsdWVzIGNhbiBiZSBcInRleHRcIiBvciBcImh0bWxcIi5cbiAgICAgKi9cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHB1YmxpYyBnZXRDb250ZW50KGZvcm1hdDogc3RyaW5nKTogc3RyaW5nIHsgcmV0dXJuOyB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY29udGVudCBvZiB0aGUgaHRtbCBlZGl0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udGVudCBUaGUgY29udGVudCB3aGljaCB3aWxsIGJlIHNldC5cbiAgICAgKiBAcGFyYW0gZm9ybWF0IFRoZSBjb250ZW50IHR5cGU6IFwidGV4dFwiIG9yIFwiaHRtbFwiLlxuICAgICAqL1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcHVibGljIHNldENvbnRlbnQoY29udGVudDogc3RyaW5nLCBmb3JtYXQ6IHN0cmluZyk6IHZvaWQgeyByZXR1cm47IH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7IHJldHVybjsgfTtcblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIGh0bWxlZGl0b3IgY29tbWFuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWN0aW9uTmFtZSBUaGUgY29tbWFuZCBuYW1lLlxuICAgICAqIEBwYXJhbSBhcmdzIEFkZGl0aW9uYWwgcGFyYW1ldGVyIGZvciB0aGUgY29tbWFuZC5cbiAgICAgKi9cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHB1YmxpYyBleGVjdXRlQWN0aW9uKGFjdGlvbk5hbWU6IHN0cmluZywgYXJncz86IE9iamVjdCk6IHZvaWQgeyByZXR1cm47IH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUvZmFsc2UgaWYgdGhlIGVkaXRvciBjb250ZW50cyB3ZXJlIG1vZGlmaWVkIG9yIG5vdC5cbiAgICAgKi9cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHB1YmxpYyBpc0RpcnR5KCk6IE9iamVjdCB7IHJldHVybjsgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHdpbmRvdyBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoZSBIdG1sIEVkaXRvcidzIGNvbnRlbnQgZWRpdGFibGUgYXJlYVxuICAgICAqL1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcHVibGljIGNvbnRlbnRXaW5kb3coKTogT2JqZWN0IHsgcmV0dXJuOyB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG9jdW1lbnQgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGUgSHRtbCBFZGl0b3IncyBjb250ZW50IGVkaXRhYmxlIGFyZWFcbiAgICAgKi9cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHB1YmxpYyBjb250ZW50RG9jdW1lbnQoKTogT2JqZWN0IHsgcmV0dXJuOyB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29udGVudCBlZGl0YWJsZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBIdG1sIEVkaXRvclxuICAgICAqL1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcHVibGljIGNvbnRlbnRFZGl0YWJsZSgpOiBPYmplY3QgeyByZXR1cm47IH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFNlbGVjdGlvbiBvYmplY3QgdGhhdCByZXByZXNlbnQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGluIHRoZSBjb250ZW50IGVkaXRhYmxlXG4gICAgICovXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBwdWJsaWMgc2VsZWN0aW9uKCk6IE9iamVjdCB7IHJldHVybjsgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgUmFuZ2Ugb2JqZWN0IHRoYXQgcmVwcmVzZW50IHRoZSBjdXJyZW50IHJhbmdlIGluIHRoZSBjb250ZW50IGVkaXRhYmxlXG4gICAgICovXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBwdWJsaWMgcmFuZ2UoKTogT2JqZWN0IHsgcmV0dXJuOyB9O1xuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGUgcHJvdmlkZWQgY29udGVudCBhdCB0aGUgcG9zaXRpb24gb2YgdGhlIGNhcmV0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgQWNjZXB0cyBodG1sIHN0cmluZywgRE9NIGVsZW1lbnQgb3IgYSBqUXVlcnkgb2JqZWN0LlxuICAgICAqL1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcHVibGljIGluc2VydEF0Q2FyZXQoZWxlbWVudDogT2JqZWN0KTogdm9pZCB7IHJldHVybjsgfTtcbn0iXX0=